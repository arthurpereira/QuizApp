<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/template/template.xhtml">

    <ui:define name="titulo">Cadastro de Pergunta</ui:define>

    <ui:define name="conteudo">

        <p:dialog widgetVar="statusDialog" modal="true" draggable="false"
                  closable="false" resizable="false" showHeader="false">
            <h:graphicImage library="img" name="ajax-loader.gif" />
        </p:dialog>

        <h1>CADASTRO DE PERGUNTA</h1>
        <h2>
            <font class="campoObrigatorio">* Campo Obrigatório!</font>
        </h2>

        <h:form id="form1" enctype="multipart/form-data" style="padding-bottom:10px">

            <p:growl id="campoObrigatorio" life="4000" showDetail="false"
                     rendered="#{facesContext.validationFailed == true}" />
            <p:growl for="sucesso" id="sucesso" life="4000" showDetail="true" />
            <p:growl for="atencao" id="atencao" life="4000" showDetail="true" />
            <p:panelGrid style="width:100%;margin-bottom: 20px !important">
                <p:row>
                    <p:column class="alinha-direita" style="width:30%;">
                        <p:outputLabel for="pergunta" value="Pergunta:" />
                    </p:column>
                    <p:column class="alinha-esquerda">
                        <p:inputTextarea id="pergunta" required="true"
                                         requiredMessage="Campo Pergunta Obrigatório!"
                                         value="#{perguntaBean.pergunta.texto}"
                                         style="width: 500px;"/>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column class="alinha-direita" style="width:30%;">
                        <p:outputLabel for="imagem" value="Imagem:" />
                    </p:column>
                    <p:column class="alinha-esquerda">
                        <h:inputFile id="imagem" value="#{perguntaBean.arquivo}"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column class="alinha-direita" style="width:30%;">
                        <p:outputLabel for="descricao-imagem" value="Descrição da Imagem:" />
                    </p:column>
                    <p:column class="alinha-esquerda">
                        <p:inputTextarea id="descricao-imagem"
                                         value="#{perguntaBean.pergunta.descricaoImagem}"
                                         style="width: 500px;"/>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column class="alinha-direita" style="width:30%;">
                        <p:outputLabel for="customRadio" value="Alternativas:" />
                    </p:column>
                    <p:column class="alinha-esquerda">
                        <p:outputPanel id="customPanel" style="margin-bottom:10px">
                            <p:selectOneRadio id="customRadio" layout="custom" required="true"
                                              value="#{perguntaBean.pergunta.alternativa_certa}"
                                              requiredMessage="Campo Alternativa Certa Obrigatório!">
                                <f:selectItem itemLabel="Alternativa A" itemValue="0" />
                                <f:selectItem itemLabel="Alternativa B" itemValue="1" />
                                <f:selectItem itemLabel="Alternativa C" itemValue="2" />
                                <f:selectItem itemLabel="Alternativa D" itemValue="3" />
                                <f:selectItem itemLabel="Alternativa E" itemValue="4" />
                            </p:selectOneRadio>

                            <p:panelGrid>
                                <f:facet name="header">
                                    <p:row>
                                        <p:column styleClass="ui-widget-header">
                                            Alternativa Certa
                                        </p:column>
                                        <p:column styleClass="ui-widget-header">
                                            Alternativas
                                        </p:column>
                                    </p:row>
                                </f:facet>
                                <p:row>
                                    <p:column>
                                        <p:radioButton id="opt1" for="customRadio" itemIndex="0" />
                                        <h:outputLabel for="opt1" value="Alternativa A" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText size="42" required="true"
                                                     value="#{perguntaBean.alt1.texto}"
                                                     requiredMessage="Campo Alternativa A Obrigatório!" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:radioButton id="opt2" for="customRadio" itemIndex="1" />
                                        <h:outputLabel for="opt2" value="Alternativa B" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText size="42" required="true"
                                                     value="#{perguntaBean.alt2.texto}"
                                                     requiredMessage="Campo Alternativa B Obrigatório!" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:radioButton id="opt3" for="customRadio" itemIndex="2" />
                                        <h:outputLabel for="opt3" value="Alternativa C" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText size="42" required="true"
                                                     value="#{perguntaBean.alt3.texto}"
                                                     requiredMessage="Campo Alternativa C Obrigatório!" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:radioButton id="opt4" for="customRadio" itemIndex="3" />
                                        <h:outputLabel for="opt4" value="Alternativa D" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText size="42" required="true"
                                                     value="#{perguntaBean.alt4.texto}"
                                                     requiredMessage="Campo Alternativa D Obrigatório!" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:radioButton id="opt5" for="customRadio" itemIndex="4" />
                                        <h:outputLabel for="opt5" value="Alternativa E" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText size="42" required="true"
                                                     value="#{perguntaBean.alt5.texto}"
                                                     requiredMessage="Campo Alternativa E Obrigatório!" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:outputPanel>
                    </p:column>
                </p:row>
                
                <f:facet name="footer">
                    <p:row>
                        <p:column colspan="2" class="alinha-meio">
                            <p:commandButton ajax="false" value="Salvar Pergunta"
                                             action="#{perguntaBean.cadastrar()}"
                                             update=":form1 sucesso campoObrigatorio atencao"
                                             onclick="PF('statusDialog').show()" />
                        </p:column>
                    </p:row>
                </f:facet>
            </p:panelGrid>
        </h:form>

    </ui:define>

</ui:composition>
</html>